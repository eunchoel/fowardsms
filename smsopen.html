<!DOCTYPE html>
<html>
<head>
<title>모바일에서 전화걸기/문자보내기</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="format-detection" content="telephone=no">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    // 파라메터 정보가 저장될 오브젝트
    // common.js 같은 모든 페이지에서 로딩되는 js 파일에 넣어두면 됨.
    var getParam = function(key){
        var _parammap = {};
        document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g, function () {
            function decode(s) {
                return decodeURIComponent(s.split("+").join(" "));
            }
 
            _parammap[decode(arguments[1])] = decode(arguments[2]);
        });
 
        return _parammap[key];
    };
    var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기
</script>
<script>
	$(document).ready(function(){
		console.log(varUA);
		console.log(getParam("body"));
		if (varUA.match('android') != null) { 
		    location.href="sms:" + getParam("pno") + "?body=[" + getParam("msg") + "]\\n안녕하세요!!\\n\\n내용입력:";
		} else if (varUA.indexOf("iphone")>-1||varUA.indexOf("ipad")>-1||varUA.indexOf("ipod")>-1) { 
		    location.href="sms:" + getParam("pno") + "&body=[" + getParam("msg") + "]\\n안녕하세요!!\\n\\n내용입력:";
		} else {
		    //아이폰, 안드로이드 외 처리
		}
	 });
 </script>
 </head>
 <body>
	<h2>모바일에서 문자보내기</h2>
 </body>
 </html>
